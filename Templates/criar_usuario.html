<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Criar Usu√°rio | LupoDrop</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script>
        function toggleCategorias() {
            const tipo = document.getElementById("tipo").value;
            const categoriasBox = document.getElementById("categorias-box");
            categoriasBox.style.display = tipo === "fornecedor" ? "block" : "none";
        }
        window.onload = toggleCategorias;
    </script>
</head>
<body class="bg-light">
<div class="container mt-5">
    <h3 class="mb-4">üë§ Criar Novo Usu√°rio</h3>
    <form method="POST">
        <div class="mb-3">
            <label for="nome" class="form-label">Nome do usu√°rio</label>
            <input type="text" class="form-control" id="nome" name="nome" required>
        </div>
        <div class="mb-3">
            <label for="email" class="form-label">E-mail</label>
            <input type="email" class="form-control" id="email" name="email" required>
        </div>
        <div class="mb-3">
            <label for="senha" class="form-label">Senha</label>
            <input type="password" class="form-control" id="senha" name="senha" required>
        </div>
        <div class="mb-3">
            <label for="tipo" class="form-label">Tipo de Usu√°rio</label>
            <select class="form-select" id="tipo" name="tipo" required onchange="toggleCategorias()">
                <option value="admin">Admin</option>
                <option value="lojista">Lojista</option>
                <option value="fornecedor">Fornecedor</option>
            </select>
        </div>

        <!-- ‚úÖ Categorias para fornecedores -->
        <div class="mb-3" id="categorias-box" style="display: none;">
            <label class="form-label">Categorias Permitidas (somente para fornecedores)</label><br>
            {% for cat in categorias_disponiveis %}
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" name="categorias" value="{{ cat }}">
                <label class="form-check-label text-capitalize">{{ cat }}</label>
            </div>
            {% endfor %}
        </div>

        <button type="submit" class="btn btn-primary">Criar</button>
        <a href="{{ url_for('usuarios') }}" class="btn btn-secondary ms-2">Voltar</a>
    </form>
</div>
</body>
</html>


